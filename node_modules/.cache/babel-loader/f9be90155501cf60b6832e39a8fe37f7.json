{"ast":null,"code":"var _jsxFileName = \"D:\\\\github\\\\OLSoftware\\\\olsoftware\\\\src\\\\components\\\\Home\\\\subcomponents\\\\Roles\\\\Roles.js\";\nimport React, { useState, useEffect } from 'react';\nimport './roles.css';\nimport { render } from '@testing-library/react';\nimport { Pencil, TrashFill, PersonPlusFill } from 'react-bootstrap-icons';\nimport firebase from '../../../../initFire';\nimport Pagination from \"react-js-pagination\";\nimport $ from 'jquery';\n\nfunction Roles() {\n  const [users, setUsers] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [activePage, setActivePage] = useState(0);\n  const itemsPerPage = 14;\n  const [userEditId, setUserEditId] = useState(null);\n  useEffect(() => {\n    loadUsers();\n    JSON.parse(localStorage.getItem('authUser'));\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rolesContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tableRoles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/assets/usuario.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 25\n    }\n  }, \"Usuarios existentes\")), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#modalCreate\",\n    onClick: () => openCreate(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 21\n    }\n  }, \"Crear\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tableRolesTableContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"tableRolesTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 33\n    }\n  }, \"Nombres\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 33\n    }\n  }, \"Apellidos\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 33\n    }\n  }, \"Identificaci\\xF3n (C.C)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 33\n    }\n  }, \"Rol asociado\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 33\n    }\n  }, \"Estado\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 33\n    }\n  }, \"Tel\\xE9fono\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 33\n    }\n  }, \"Correo elect\\xF3nico\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 33\n    }\n  }, \"Acci\\xF3n\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, users.slice(activePage * itemsPerPage, (activePage + 1) * itemsPerPage).map((user, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"capitalize\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 37\n      }\n    }, user.data().name), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"capitalize\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 37\n      }\n    }, user.data().surname), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 37\n      }\n    }, user.data().cc), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"capitalize\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 37\n      }\n    }, user.data().role), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"capitalize\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }\n    }, user.data().state ? 'activo' : 'inactivo'), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 37\n      }\n    }, user.data().phone), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 37\n      }\n    }, user.data().email), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"thOptions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Pencil, {\n      size: 20,\n      color: \"#1d43ad\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#modalCreate\",\n      onClick: () => openEdit(user),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(TrashFill, {\n      size: 20,\n      onClick: () => deletUser(user.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 41\n      }\n    })));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  })), itemsPerPage < users.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navigationContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"Page navigation example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"page-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    class: \"page-link\",\n    onClick: () => activePage > 0 ? setActivePage(activePage - 1) : {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 55\n    }\n  }, \"Anterior\")), Array.apply(null, {\n    length: Math.ceil(users.length / itemsPerPage)\n  }).map((e, i) => /*#__PURE__*/React.createElement(\"li\", {\n    class: \"page-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    class: \"page-link\",\n    onClick: () => {\n      setActivePage(i);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 59\n    }\n  }, i))), /*#__PURE__*/React.createElement(\"li\", {\n    class: \"page-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    class: \"page-link\",\n    onClick: () => activePage < Math.ceil(users.length / itemsPerPage) ? setActivePage(activePage + 1) : {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 55\n    }\n  }, \"Siguiente\"))))) : ''), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filterMenuRoles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PersonPlusFill, {\n    color: \"#1d43ad\",\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"Filtrar busqueda\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      e.stopPropagation();\n      filter();\n    },\n    id: \"formFilter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, \"Nombres\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, \"Apellidos\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"surname\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, \"Identificaci\\xF3n (C.C)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"cc\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"role\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }, \"Cualquiera\"), roles.map((role, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: role,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 40\n      }\n    }, role);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, \"Estado\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"state\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, \"Cualquiera\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"activo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, \"Activo\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"inactivo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, \"Inactivo\"))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, \"Contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, \"Tel\\xE9fono\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"phone\",\n    name: \"phone\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, \"Correo electr\\xF3nico\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"buttonFormContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    class: \"btn filterButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"Filtrar\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"reset\",\n    class: \"btn clearButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, \"Limpiar\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal fade\",\n    tabindex: \"-1\",\n    role: \"dialog\",\n    id: \"modalCreate\",\n    \"data-backdrop\": \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog modal-dialog-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, \"Agregar nuevo usuario\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 33\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      e.stopPropagation();\n      userEditId == null ? createUser() : editUser();\n    },\n    id: \"formCreateUser\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 37\n    }\n  }, \"Nombres\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 37\n    }\n  }, \"Apellidos\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"surname\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }, \"Identificaci\\xF3n (C.C)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"cc\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 37\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"role\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 41\n    }\n  }, \"Cualquiera\"), roles.map((role, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: role,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 52\n      }\n    }, role);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 37\n    }\n  }, \"Estado\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"state\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 41\n    }\n  }, \"Cualquiera\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"activo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 41\n    }\n  }, \"Activo\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"inactivo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 41\n    }\n  }, \"Inactivo\"))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 37\n    }\n  }, \"Contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 37\n    }\n  }, \"Tel\\xE9fono\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"phone\",\n    name: \"phone\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 37\n    }\n  }, \"Correo electr\\xF3nico\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"buttonFormContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    class: \"btn filterButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 37\n    }\n  }, userEditId == null ? 'Crear' : 'Editar'), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"reset\",\n    class: \"btn clearButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 37\n    }\n  }, \"Limpiar\"))))))));\n\n  function filter() {\n    var filterF = $('#formFilter').serializeArray().reduce(function (obj, item) {\n      obj[item.name] = item.value;\n      return obj;\n    }, {});\n    var fir = firebase.firestore().collection('users');\n\n    for (const [key, value] of Object.entries(filterF)) {\n      if (value != null && value != \"\") {\n        fir = fir.where(key, '==', value.toLowerCase());\n      }\n    }\n\n    fir.get().then(querySnapshot => {\n      var queryUsers = [];\n      querySnapshot.forEach(doc => {\n        queryUsers.push(doc);\n      });\n      setUsers(queryUsers);\n    });\n  }\n\n  function openCreate() {\n    document.getElementById('formCreateUser').reset();\n    setUserEditId(null);\n  }\n\n  function createUser() {\n    var filterF = $('#formCreateUser').serializeArray().reduce(function (obj, item) {\n      obj[item.name] = item.value;\n      return obj;\n    }, {});\n    firebase.auth().createUserWithEmailAndPassword(filterF.email, filterF.password);\n    firebase.firestore().collection('users').doc().set(filterF).then(response => {\n      loadUsers();\n      window.$('#modalCreate').modal('hide');\n    }).catch(err => {});\n  }\n\n  function openEdit(document) {\n    setUserEditId(document.id);\n    var json = document.data();\n\n    for (var key in json) {\n      if (json.hasOwnProperty(key)) $('input[name=' + key + ']').val(json[key]);\n    }\n  }\n\n  function editUser() {\n    var filterF = $('#formCreateUser').serializeArray().reduce(function (obj, item) {\n      obj[item.name] = item.value;\n      return obj;\n    }, {});\n    firebase.firestore().collection('users').doc(userEditId).update(filterF).then(response => {\n      loadUsers();\n      window.$('#modalCreate').modal('hide');\n    });\n  }\n\n  function deletUser(id) {\n    firebase.firestore().collection('users').doc(id).delete().then(response => {\n      loadUsers();\n    });\n  }\n\n  function loadUsers() {\n    firebase.firestore().collection('users').get().then(querySnapshot => {\n      var queryUsers = [];\n      querySnapshot.forEach(doc => {\n        queryUsers.push(doc);\n      });\n      setUsers(queryUsers);\n    });\n    firebase.firestore().collection('globalvars').doc('roles').get().then(querySnapshot => {\n      setRoles(querySnapshot.data().roles);\n    });\n  }\n}\n\nexport default Roles;","map":{"version":3,"sources":["D:/github/OLSoftware/olsoftware/src/components/Home/subcomponents/Roles/Roles.js"],"names":["React","useState","useEffect","render","Pencil","TrashFill","PersonPlusFill","firebase","Pagination","$","Roles","users","setUsers","roles","setRoles","activePage","setActivePage","itemsPerPage","userEditId","setUserEditId","loadUsers","JSON","parse","localStorage","getItem","openCreate","slice","map","user","index","data","name","surname","cc","role","state","phone","email","openEdit","deletUser","id","length","Array","apply","Math","ceil","e","i","preventDefault","stopPropagation","filter","createUser","editUser","filterF","serializeArray","reduce","obj","item","value","fir","firestore","collection","key","Object","entries","where","toLowerCase","get","then","querySnapshot","queryUsers","forEach","doc","push","document","getElementById","reset","auth","createUserWithEmailAndPassword","password","set","response","window","modal","catch","err","json","hasOwnProperty","val","update","delete"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './roles.css';\r\nimport { render } from '@testing-library/react';\r\nimport { Pencil, TrashFill, PersonPlusFill } from 'react-bootstrap-icons';\r\nimport firebase from '../../../../initFire';\r\nimport Pagination from \"react-js-pagination\";\r\nimport $ from 'jquery';\r\n\r\nfunction Roles() {\r\n    const [users, setUsers] = useState([]);\r\n    const [roles, setRoles] = useState([]);\r\n    const [activePage, setActivePage] = useState(0);\r\n    const itemsPerPage = 14;\r\n    const [userEditId, setUserEditId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        loadUsers();\r\n        JSON.parse(localStorage.getItem('authUser'))\r\n    }, []);\r\n    return (\r\n        <div className=\"rolesContainer\">\r\n            <div className=\"tableRoles\">\r\n                <div className=\"header\">\r\n                    <div>\r\n                        <img src=\"/assets/usuario.svg\" />\r\n                        <span>Usuarios existentes</span>\r\n                    </div>\r\n                    <button data-toggle=\"modal\" data-target=\"#modalCreate\" onClick={() => openCreate()}>Crear</button>\r\n                </div>\r\n                <div className=\"tableRolesTableContainer\">\r\n                    <table className=\"tableRolesTable\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Nombres</th>\r\n                                <th>Apellidos</th>\r\n                                <th>Identificación (C.C)</th>\r\n                                <th>Rol asociado</th>\r\n                                <th>Estado</th>\r\n                                <th>Teléfono</th>\r\n                                <th>Correo electónico</th>\r\n                                <th>Acción</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {users.slice(activePage*itemsPerPage, (activePage+1)*itemsPerPage).map((user, index) => {\r\n                                return <tr>\r\n                                    <th className=\"capitalize\">{user.data().name}</th>\r\n                                    <th className=\"capitalize\">{user.data().surname}</th>\r\n                                    <th>{user.data().cc}</th>\r\n                                    <th className=\"capitalize\">{user.data().role}</th>\r\n                                    <th className=\"capitalize\">{user.data().state ? 'activo' : 'inactivo'}</th>\r\n                                    <th>{user.data().phone}</th>\r\n                                    <th>{user.data().email}</th>\r\n                                    <th className=\"thOptions\">\r\n                                        <Pencil size={20} color=\"#1d43ad\" data-toggle=\"modal\" data-target=\"#modalCreate\" onClick={() => openEdit(user)} />\r\n                                        <TrashFill size={20} onClick={() => deletUser(user.id)} />\r\n                                    </th>\r\n                                </tr>\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                    <div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                {itemsPerPage < users.length ?\r\n                    <div className=\"navigationContainer\">\r\n                        <nav aria-label=\"Page navigation example\">\r\n                            <ul class=\"pagination\">\r\n                                <li class=\"page-item\"><a class=\"page-link\" onClick={() => activePage > 0 ? setActivePage(activePage - 1) : { }}>Anterior</a></li>\r\n                                {Array.apply(null, { length: Math.ceil(users.length / itemsPerPage) }).map((e, i) => (\r\n                                    <li class=\"page-item\"><a class=\"page-link\" onClick={() => { setActivePage(i) }}>{i}</a></li>\r\n                                ))}\r\n                                <li class=\"page-item\"><a class=\"page-link\" onClick={() => activePage < Math.ceil(users.length / itemsPerPage) ? setActivePage(activePage + 1): {} }>Siguiente</a></li>\r\n                            </ul>\r\n                        </nav>\r\n                    </div> : ''\r\n                }\r\n            </div>\r\n            <div className=\"filterMenuRoles\">\r\n                <div className=\"header\">\r\n                    <PersonPlusFill color=\"#1d43ad\" size={20} />\r\n                    <span>Filtrar busqueda</span>\r\n                </div>\r\n                <form onSubmit={\r\n                    (e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        filter();\r\n                    }} id=\"formFilter\">\r\n                    <div class=\"form-group\">\r\n                        <label>Nombres</label>\r\n                        <input type=\"text\" name=\"name\" className=\"form-control\" />\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Apellidos</label>\r\n                        <input type=\"text\" name=\"surname\" className=\"form-control\" />\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Identificación (C.C)</label>\r\n                        <input type=\"text\" name=\"cc\" className=\"form-control\" />\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Role</label>\r\n                        <select name=\"role\" className=\"form-control\">\r\n                            <option value=\"\" selected>Cualquiera</option>\r\n                            {roles.map((role, index) => {\r\n                                return <option value={role}>{role}</option>\r\n                            })}\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Estado</label>\r\n                        <select name=\"state\" className=\"form-control\">\r\n                            <option value=\"\" selected >Cualquiera</option>\r\n                            <option value=\"activo\">Activo</option>\r\n                            <option value=\"inactivo\">Inactivo</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Contraseña</label>\r\n                        <input type=\"password\" name=\"password\" className=\"form-control\" />\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Teléfono</label>\r\n                        <input type=\"phone\" name=\"phone\" className=\"form-control\" />\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label>Correo electrónico</label>\r\n                        <input type=\"email\" name=\"email\" className=\"form-control\" />\r\n                    </div>\r\n                    <div class=\"buttonFormContainer\">\r\n                        <button type=\"submit\" class=\"btn filterButton\">Filtrar</button>\r\n                        <button type=\"reset\" class=\"btn clearButton\">Limpiar</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            <div className=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"modalCreate\" data-backdrop=\"static\">\r\n                <div className=\"modal-dialog modal-dialog-centered\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\">Agregar nuevo usuario</h5>\r\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <form onSubmit={\r\n                                (e) => {\r\n                                    e.preventDefault();\r\n                                    e.stopPropagation();\r\n                                    userEditId == null ? createUser() : editUser()\r\n                                }} id=\"formCreateUser\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Nombres</label>\r\n                                    <input type=\"text\" name=\"name\" className=\"form-control\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Apellidos</label>\r\n                                    <input type=\"text\" name=\"surname\" className=\"form-control\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Identificación (C.C)</label>\r\n                                    <input type=\"text\" name=\"cc\" className=\"form-control\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Role</label>\r\n                                    <select name=\"role\" className=\"form-control\">\r\n                                        <option value=\"\" selected>Cualquiera</option>\r\n                                        {roles.map((role, index) => {\r\n                                            return <option value={role}>{role}</option>\r\n                                        })}\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Estado</label>\r\n                                    <select name=\"state\" className=\"form-control\">\r\n                                        <option value=\"\" selected >Cualquiera</option>\r\n                                        <option value=\"activo\">Activo</option>\r\n                                        <option value=\"inactivo\">Inactivo</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Contraseña</label>\r\n                                    <input type=\"password\" name=\"password\" className=\"form-control\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Teléfono</label>\r\n                                    <input type=\"phone\" name=\"phone\" className=\"form-control\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Correo electrónico</label>\r\n                                    <input type=\"email\" name=\"email\" className=\"form-control\" />\r\n                                </div>\r\n                                <div class=\"buttonFormContainer\">\r\n                                    <button type=\"submit\" class=\"btn filterButton\">{userEditId == null ? 'Crear' : 'Editar'}</button>\r\n                                    <button type=\"reset\" class=\"btn clearButton\">Limpiar</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    function filter() {\r\n        var filterF = $('#formFilter').serializeArray().reduce(function (obj, item) {\r\n            obj[item.name] = item.value;\r\n            return obj;\r\n        }, {});\r\n        var fir = firebase.firestore().collection('users');\r\n        for (const [key, value] of Object.entries(filterF)) {\r\n            if (value != null && value != \"\") {\r\n                fir = fir.where(key, '==', value.toLowerCase())\r\n            }\r\n        }\r\n        fir.get().then(querySnapshot => {\r\n            var queryUsers = [];\r\n            querySnapshot.forEach((doc) => {\r\n                queryUsers.push(doc);\r\n            })\r\n            setUsers(queryUsers);\r\n        });\r\n    }\r\n\r\n    function openCreate() {\r\n        document.getElementById('formCreateUser').reset();\r\n        setUserEditId(null);\r\n    }\r\n\r\n    function createUser() {\r\n        var filterF = $('#formCreateUser').serializeArray().reduce(function (obj, item) {\r\n            obj[item.name] = item.value;\r\n            return obj;\r\n        }, {});\r\n        firebase.auth().createUserWithEmailAndPassword(filterF.email, filterF.password);\r\n        firebase.firestore().collection('users').doc().set(filterF).then(response => {\r\n            loadUsers();\r\n            window.$('#modalCreate').modal('hide');\r\n        }).catch(err => {\r\n        })\r\n\r\n    }\r\n\r\n    function openEdit(document) {\r\n        setUserEditId(document.id)\r\n        var json = document.data();\r\n        for (var key in json) {\r\n            if (json.hasOwnProperty(key))\r\n                $('input[name=' + key + ']').val(json[key]);\r\n        }\r\n    }\r\n\r\n    function editUser() {\r\n        var filterF = $('#formCreateUser').serializeArray().reduce(function (obj, item) {\r\n            obj[item.name] = item.value;\r\n            return obj;\r\n        }, {});\r\n        firebase.firestore().collection('users').doc(userEditId).update(filterF).then(response => {\r\n            loadUsers();\r\n            window.$('#modalCreate').modal('hide');\r\n        })\r\n\r\n    }\r\n\r\n    function deletUser(id) {\r\n        firebase.firestore().collection('users').doc(id).delete().then(response => {\r\n            loadUsers();\r\n        })\r\n    }\r\n\r\n    function loadUsers(){\r\n        firebase.firestore().collection('users').get().then(querySnapshot => {\r\n            var queryUsers = [];\r\n            querySnapshot.forEach((doc) => {\r\n                queryUsers.push(doc);\r\n            })\r\n            setUsers(queryUsers);\r\n        });\r\n        firebase.firestore().collection('globalvars').doc('roles').get().then(querySnapshot => {\r\n            setRoles(querySnapshot.data().roles)\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default Roles;\r\n"]},"metadata":{},"sourceType":"module"}